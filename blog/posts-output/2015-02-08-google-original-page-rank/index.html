<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
    <meta charset="utf-8"/>
    <title>The Analytic Bastard: Google&#39;s original Page Rank implementation</title>
    <link rel="canonical" href="http://analyticbastard.github.io/blog/posts-output/2015-02-08-google-original-page-rank/">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link href='http://fonts.googleapis.com/css?family=Alegreya:400italic,700italic,400,700' rel='stylesheet'
          type='text/css'>
    <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/css/bootstrap.min.css">
    <link href="//maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.1/styles/default.min.css">
    <link href="/blog/css/screen.css" rel="stylesheet" type="text/css" />
</head>
<body>


<nav class="navbar navbar-default">
    <div class="container">
        <div class="navbar-header">
            <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>
            <a class="navbar-brand" href="/blog/">The Analytic Bastard</a>
        </div>
        <div id="navbar" class="navbar-collapse collapse">
            <ul class="nav navbar-nav navbar-right">
                <li ><a href="/blog/">Home</a></li>
                <li
                ><a href="/blog/archives/">Archives</a></li>
                
                <li
                >
                <a href="/blog/pages-output/about/">About</a>
                </li>
                
                <li><a href="/blog/feed.xml">RSS</a></li>
            </ul>
        </div><!--/.nav-collapse -->
    </div><!--/.container-fluid -->
</nav>


<div class="container">


    <div class="row">
        <div class="col-lg-9">
            <div id="content">
                
<div id="post">
    <div class="post-header">
    <div id="post-meta" class="row">
        <div class="col-lg-6">February 8, 2015</div>
        
    </div>
    <h2>Google&#39;s original Page Rank implementation</h2>
</div>
<div>
    
    <p>Ever since I took a good course on Matrix Analysis, I have been curious about how Google's Page Rank algorithm was related to Matrix theory, because I never got a chance to have a look at it when I studied computer systems.</p><p>Imagine the graph of web pages visited by Google crawlers, where $\mathbf{M}$ is the adjacency matrix with the outgoing links in the columns, where each edge in the web page $i$ pointing to a web page $j$ (which can be the same) has a score of $\frac{1}{n&#95;i}$, where $n&#95;i$ is the number of outgoing links in the webpage $i$. This matrix might present a number of problems with actual graphs, so what Google did was to include page self references and random jumps between pages with a small pfrobability given by a parameter $\beta$.</p><p>$$ \mathbf{G} = \beta \mathbf{M} + (1-\beta) \frac{\mathbf{1} \mathbf{1}^ T}{N} $$</p><p>where $N$ is the total number of web pages in the system and $\mathbf{1}$ is the vector of all ones of size $N$.</p><p>$\mathbf{G}$, being a stochastic matrix, has one as the largest eigenvalue (in module). This can be proved by taking $\mathbf{G}^ T \mathbf{1}=\mathbf{1}$, and since $\mathbf{G}^ T = (\mathbf{P}^ {-1})^ {-T} \mathbf{D} \mathbf{P}^ {-T}$, where $\mathbf{P}$ diagonalizes $\mathbf{G}$ and $\mathbf{D}$ is the resulting diagonal matrix with the eigenvalues of both $\mathbf{G}$ and $\mathbf{G^ {T}}$. Thus one is also the largest eigenvalue of $\mathbf{G}$. Proving that this is in fact the largest can be done by applyting the <a href='http://en.wikipedia.org/wiki/Gershgorin_circle_theorem'>Gershgoring circle theorem</a>.</p><p>Intuitively, applyting $$\mathbf{G}$$ several times has the effect of building a power matrix $\mathbf{G}^ M$ whose largest eigenvalue is also one, but the rest are the power of elements less than one, meaning that each power decreases all the eigenvalues except the first one. This has the effect of minimizing the component of any vector (the projection) in the subspace spanned by the eigenvector corresponding to any eigenvalue except the first one. Eventually, all of them reach zero, leaving only the component of the original vector in the subspace of the eigenvector corresponding to the largest eigenvalue. This means $\mathbf{G}^ M \mathbf{x} \rightarrow \mathbf{w}$, as $M$ tends to infinite, where $\mathbf{w}$ is the dominant eigenvector (the one corresponding to the eigenvalue one).</p><p>The elements of this vectors are the important for all the pages registered on the database by the crawlers or robots.</p><p>Obviously this demands a lot of computation since the web is ever changing and this power method would need to be performed in batch intermitently, so efficient implementations are needed (based on Map Reduce or not).</p>
</div>

<div id="post-tags">
    <b>Tags: </b>
    
    <a href="/blog/tags-output/Mathematics/">Mathematics</a>
    
    <a href="/blog/tags-output/Statistics/">Statistics</a>
    
</div>


    <div id="prev-next">
        
        <a href="/blog/posts-output/2015-02-20-image-pan-sharpening-with-pca/">&laquo; Image pan-sharpening with PCA</a>
        
        
        <a class="right" href="/blog/posts-output/2015-01-10-my-git-workflow/">My Git workflow &raquo;</a>
        
    </div>

    
    <div id="disqus_thread"></div>
    <script type="text/javascript">
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = '//theanalyticbastard.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    


</div>

            </div>
        </div>

        <div class="col-md-3">
            <div id="sidebar">
                <!-- <h3>Links</h3>
                <ul id="links">
                    
                    <li><a href="/blog/pages-output/c/">C, C++ and others</a></li>
                    
                    <li><a href="/blog/pages-output/clojure/">Clojure</a></li>
                    
                    <li><a href="/blog/pages-output/databases/">Databases</a></li>
                    
                    <li><a href="/blog/pages-output/experience/">experience</a></li>
                    
                    <li><a href="/blog/pages-output/git/">Git</a></li>
                    
                    <li><a href="/blog/pages-output/intellij/">IntelliJ</a></li>
                    
                    <li><a href="/blog/pages-output/java/">Java</a></li>
                    
                    <li><a href="/blog/pages-output/lein/">Leiningen and Maven</a></li>
                    
                    <li><a href="/blog/pages-output/matlab/">Matlab and R</a></li>
                    
                    <li><a href="/blog/pages-output/mobile/">Mobile</a></li>
                    
                    <li><a href="/blog/pages-output/python/">Python</a></li>
                    
                    <li><a href="/blog/pages-output/scientific/">Scientific Libraries</a></li>
                    
                </ul> -->
                
                <div id="recent">
                    <h3>Recent Posts</h3>
                    <ul>
                        
                        <li><a href="/blog/posts-output/2016-06-09-building-an-automated-trading-system/">Building a Machine Learning-based automated trading system</a></li>
                        
                        <li><a href="/blog/posts-output/2016-05-29-JFF-a-reactive-web-application-with-reagent/">JFF: a reactive web application with reagent, re-frame and datascript</a></li>
                        
                        <li><a href="/blog/posts-output/2016-03-30-new-blog-with-cryogen/">New blog using Cryogen</a></li>
                        
                        <li><a href="/blog/posts-output/2015-09-13-clojure-parallel-thread-flows-pth-library/">Clojure parallel thread flows: pth library</a></li>
                        
                        <li><a href="/blog/posts-output/2015-05-02-max-subsequence-problem/">Max subsequence problem</a></li>
                        
                    </ul>
                </div>
                
                
                <div id="tags">
                    <h3>Tags</h3>
                    <ul>
                        
                        <li><a href="/blog/tags-output/Matlab/">Matlab</a></li>
                        
                        <li><a href="/blog/tags-output/Mathematics/">Mathematics</a></li>
                        
                        <li><a href="/blog/tags-output/Python/">Python</a></li>
                        
                        <li><a href="/blog/tags-output/Clojure/">Clojure</a></li>
                        
                        <li><a href="/blog/tags-output/Brainteasers/">Brainteasers</a></li>
                        
                        <li><a href="/blog/tags-output/Tools/">Tools</a></li>
                        
                        <li><a href="/blog/tags-output/Statistics/">Statistics</a></li>
                        
                        <li><a href="/blog/tags-output/Programming/">Programming</a></li>
                        
                        <li><a href="/blog/tags-output/Hackintosh/">Hackintosh</a></li>
                        
                        <li><a href="/blog/tags-output/Software Development/">Software Development</a></li>
                        
                        <li><a href="/blog/tags-output/Machine Learning/">Machine Learning</a></li>
                        
                    </ul>
                </div>
                

                <script type="text/javascript" src="//rc.revolvermaps.com/0/0/6.js?i=2j1s8v947td&amp;m=7&amp;s=320&amp;c=e63100&amp;cr1=ffffff&amp;f=arial&amp;l=0&amp;bv=90&amp;lx=-420&amp;ly=420&amp;hi=20&amp;he=7&amp;hc=a8ddff&amp;rs=80" async="async"></script>
            </div>
        </div>
    </div>
    <footer>Copyright &copy;  The Analytic Bastard
        <p style="text-align: center;">Powered by <a href="http://cryogenweb.org">Cryogen</a></p></footer>
</div>
<script src="//code.jquery.com/jquery-1.11.0.min.js"></script>
<script src="//maxcdn.bootstrapcdn.com/bootstrap/3.3.0/js/bootstrap.min.js"></script>
<script src="/blog/js/highlight.pack.js" type="text/javascript"></script>
<script>hljs.initHighlightingOnLoad();</script>
<script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML" type="text/javascript"></script>
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  jax: ["input/TeX", "output/HTML-CSS"],
  tex2jax: {
    inlineMath: [ ['$', '$'] ],
    displayMath: [ ['$$', '$$']],
    processEscapes: true,
    skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
  },
  messageStyle: "none",
  "HTML-CSS": { preferredFont: "TeX", availableFonts: ["STIX","TeX"] }
});
</script>
</body>
</html>
